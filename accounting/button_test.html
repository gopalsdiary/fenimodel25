<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡¶¨‡¶æ‡¶ü‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .test-container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .button-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    .test-btn {
      padding: 15px 20px;
      border: none;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-align: center;
    }
    .test-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .btn-success { background: #22c55e; color: white; }
    .btn-danger { background: #ef4444; color: white; }
    .btn-primary { background: #3b82f6; color: white; }
    .btn-warning { background: #f59e0b; color: white; }
    .btn-info { background: #06b6d4; color: white; }
    .btn-secondary { background: #6b7280; color: white; }
    .status { 
      margin-top: 20px; 
      padding: 15px; 
      border-radius: 8px; 
      background: #f0f9ff; 
      border: 1px solid #0ea5e9; 
    }
    .error { background: #fef2f2; border-color: #ef4444; color: #dc2626; }
    .success { background: #f0fdf4; border-color: #22c55e; color: #16a34a; }
  </style>
</head>
<body>
  <div class="test-container">
    <h1>üß™ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶ø‡¶Ç ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ - ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü</h1>
    <p>‡¶è‡¶á ‡¶™‡ßá‡¶ú‡ßá ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°‡ßá‡¶∞ ‡¶∏‡¶¨ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
    
    <div class="button-grid">
      <button class="test-btn btn-success" onclick="testCollectFee()">
        üí∞ ‡¶´‡¶ø ‡¶Ü‡¶¶‡¶æ‡¶Ø‡¶º ‡¶ü‡ßá‡¶∏‡ßç‡¶ü
      </button>
      <button class="test-btn btn-danger" onclick="testNewExpense()">
        üí∏ ‡¶ñ‡¶∞‡¶ö ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶ü‡ßá‡¶∏‡ßç‡¶ü  
      </button>
      <button class="test-btn btn-primary" onclick="testOpenDailyEntry()">
        üìù ‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶ü‡ßá‡¶∏‡ßç‡¶ü
      </button>
      <button class="test-btn btn-info" onclick="testBankReconciliation()">
        üè¶ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶∞‡ßá‡¶ï‡¶®‡¶∏‡¶ø‡¶≤‡¶ø‡¶Ø‡¶º‡ßá‡¶∂‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü
      </button>
      <button class="test-btn btn-warning" onclick="testGenerateInvoice()">
        üìÑ ‡¶¨‡¶ø‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ü‡ßá‡¶∏‡ßç‡¶ü
      </button>
      <button class="test-btn btn-secondary" onclick="testViewReports()">
        üìä ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ü‡ßá‡¶∏‡ßç‡¶ü
      </button>
      <button class="test-btn btn-secondary" onclick="testChartOfAccounts()">
        üìã ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü ‡¶ü‡ßá‡¶∏‡ßç‡¶ü
      </button>
    </div>

    <div class="button-grid">
      <button class="test-btn btn-primary" onclick="openMainDashboard()">
        üöÄ ‡¶Æ‡ßÇ‡¶≤ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®
      </button>
      <button class="test-btn btn-success" onclick="openDailyEntryPage()">
        üìù ‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®
      </button>
      <button class="test-btn btn-warning" onclick="runAllTests()">
        üß™ ‡¶∏‡¶¨ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®
      </button>
    </div>

    <div id="testResults" class="status">
      <strong>‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü:</strong> ‡¶è‡¶ñ‡¶®‡ßã ‡¶ï‡ßã‡¶®‡ßã ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡¶®‡¶ø
    </div>
  </div>

  <script>
    let testResults = [];

    function showResult(message, type = 'info') {
      const resultDiv = document.getElementById('testResults');
      resultDiv.className = `status ${type}`;
      resultDiv.innerHTML = `<strong>‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶∞‡ßá‡¶ú‡¶æ‡¶≤‡ßç‡¶ü:</strong> ${message}`;
      
      // Add to results array
      testResults.push({
        time: new Date().toLocaleTimeString(),
        message: message,
        type: type
      });
    }

    function testCollectFee() {
      try {
        // Test if function exists in main dashboard
        const mainWindow = window.open('./accounting_dashboard.html', '_blank');
        showResult('‚úÖ ‡¶´‡¶ø ‡¶Ü‡¶¶‡¶æ‡¶Ø‡¶º ‡¶™‡ßá‡¶ú ‡¶ñ‡ßã‡¶≤‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...', 'success');
        
        setTimeout(() => {
          if (mainWindow && !mainWindow.closed) {
            // Try to call the function
            try {
              mainWindow.collectFee();
              showResult('‚úÖ ‡¶´‡¶ø ‡¶Ü‡¶¶‡¶æ‡¶Ø‡¶º ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá‡¶õ‡ßá!', 'success');
            } catch (error) {
              showResult('‚ùå ‡¶´‡¶ø ‡¶Ü‡¶¶‡¶æ‡¶Ø‡¶º ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
            }
          } else {
            showResult('‚ö†Ô∏è ‡¶Æ‡ßÇ‡¶≤ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶≤‡ßã‡¶° ‡¶π‡¶Ø‡¶º‡¶®‡¶ø', 'error');
          }
        }, 2000);
      } catch (error) {
        showResult('‚ùå ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ö‡¶æ‡¶≤‡¶æ‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
      }
    }

    function testNewExpense() {
      showResult('üí∏ ‡¶ñ‡¶∞‡¶ö ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...', 'info');
      const mainWindow = window.open('./accounting_dashboard.html', '_blank');
    }

    function testOpenDailyEntry() {
      try {
        window.open('./daily_entry.html', '_blank');
        showResult('‚úÖ ‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶™‡ßá‡¶ú ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!', 'success');
      } catch (error) {
        showResult('‚ùå ‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶ñ‡ßÅ‡¶≤‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ: ' + error.message, 'error');
      }
    }

    function testBankReconciliation() {
      showResult('üè¶ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶Ç‡¶ï ‡¶∞‡ßá‡¶ï‡¶®‡¶∏‡¶ø‡¶≤‡¶ø‡¶Ø‡¶º‡ßá‡¶∂‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü (‡¶è‡¶ñ‡¶®‡ßã ‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá)', 'info');
    }

    function testGenerateInvoice() {
      showResult('üìÑ ‡¶¨‡¶ø‡¶≤ ‡¶§‡ßà‡¶∞‡¶ø ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...', 'info');
    }

    function testViewReports() {
      showResult('üìä ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...', 'info');
    }

    function testChartOfAccounts() {
      showResult('üìã ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...', 'info');
    }

    function openMainDashboard() {
      window.open('./accounting_dashboard.html', '_blank');
      showResult('üöÄ ‡¶Æ‡ßÇ‡¶≤ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'success');
    }

    function openDailyEntryPage() {
      window.open('./daily_entry.html', '_blank');
      showResult('üìù ‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶è‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶™‡ßá‡¶ú ‡¶ñ‡ßã‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá', 'success');
    }

    function runAllTests() {
      showResult('üß™ ‡¶∏‡¶¨ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá...', 'info');
      
      // Test all functions sequentially
      setTimeout(() => testCollectFee(), 500);
      setTimeout(() => testNewExpense(), 1000);
      setTimeout(() => testOpenDailyEntry(), 1500);
      setTimeout(() => testBankReconciliation(), 2000);
      setTimeout(() => testGenerateInvoice(), 2500);
      setTimeout(() => testViewReports(), 3000);
      setTimeout(() => testChartOfAccounts(), 3500);
      
      setTimeout(() => {
        showResult(`‚úÖ ‡¶∏‡¶¨ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®! ‡¶Æ‡ßã‡¶ü ${testResults.length} ‡¶ü‡¶ø ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá`, 'success');
      }, 4000);
    }

    // Auto-test on page load
    document.addEventListener('DOMContentLoaded', function() {
      showResult('üéØ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶™‡ßç‡¶∞‡¶∏‡ßç‡¶§‡ßÅ‡¶§!', 'success');
    });
  </script>
</body>
</html>